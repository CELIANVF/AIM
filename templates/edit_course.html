{% extends "layout.html" %}

{% block title %}Modifier un cours{% endblock %}

{% block content %}
<h1>✏️ Modifier le cours</h1>

<div class="form-card">
    <form method="POST" action="{{ url_for('edit_course', course_id=course.id) }}">
        <div class="form-group">
            <label for="name">Nom du cours *</label>
            <input type="text" id="name" name="name" required value="{{ course.name }}">
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="day_of_week">Jour de la semaine *</label>
                <select id="day_of_week" name="day_of_week" required>
                    <option value="0" {% if course.day_of_week == 0 %}selected{% endif %}>Lundi</option>
                    <option value="1" {% if course.day_of_week == 1 %}selected{% endif %}>Mardi</option>
                    <option value="2" {% if course.day_of_week == 2 %}selected{% endif %}>Mercredi</option>
                    <option value="3" {% if course.day_of_week == 3 %}selected{% endif %}>Jeudi</option>
                    <option value="4" {% if course.day_of_week == 4 %}selected{% endif %}>Vendredi</option>
                    <option value="5" {% if course.day_of_week == 5 %}selected{% endif %}>Samedi</option>
                    <option value="6" {% if course.day_of_week == 6 %}selected{% endif %}>Dimanche</option>
                </select>
            </div>
            <div class="form-group">
                <label for="start_time">Heure de début (HH:MM) *</label>
                <input type="time" id="start_time" name="start_time" required value="{{ course.start_time }}">
            </div>
            <div class="form-group">
                <label for="end_time">Heure de fin (HH:MM) *</label>
                <input type="time" id="end_time" name="end_time" required value="{{ course.end_time }}">
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="level">Niveau</label>
                <select id="level" name="level">
                    <option value="">-- Sélectionner un niveau --</option>
                    <option value="débutant" {% if course.level == 'débutant' %}selected{% endif %}>Débutant</option>
                    <option value="intermédiaire" {% if course.level == 'intermédiaire' %}selected{% endif %}>Intermédiaire</option>
                    <option value="avancé" {% if course.level == 'avancé' %}selected{% endif %}>Avancé</option>
                    <option value="compétition" {% if course.level == 'compétition' %}selected{% endif %}>Compétition</option>
                </select>
            </div>
            <div class="form-group">
                <label for="max_archers">Nombre maximum d'archers</label>
                <input type="number" id="max_archers" name="max_archers" min="1" value="{% if course.max_archers %}{{ course.max_archers }}{% endif %}" placeholder="Illimité si vide">
            </div>
        </div>

        <div class="form-group">
            <label for="notes">Notes</label>
            <textarea id="notes" name="notes" placeholder="Informations supplémentaires sur ce cours...">{{ course.notes or '' }}</textarea>
        </div>

        <div style="display:flex;gap:12px;margin-top:24px">
            <button type="submit" class="btn btn-primary">✓ Modifier le cours</button>
            <a href="{{ url_for('courses') }}" class="btn btn-secondary">✕ Annuler</a>
        </div>
    </form>
</div>
{% endblock %}
