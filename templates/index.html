{% extends "layout.html" %}

{% block title %}Accueil{% endblock %}

{% block content %}
<div class="header-with-actions">
	<div>
		<h1>Tableau de bord</h1>
		<p class="muted">Bienvenue dans le systÃ¨me de gestion du matÃ©riel de tir Ã  l'arc</p>
	</div>
	<div class="action-group">
		{% if current_user.can_edit() %}
		<a href="{{ url_for('add_product') }}" class="btn btn-primary">â• Nouveau produit</a>
		<a href="{{ url_for('assign') }}" class="btn btn-outline">ğŸ”„ Nouvelle affectation</a>
		{% endif %}
	</div>
</div>

<div class="stats-grid">
	<div class="stat-card">
		<div class="stat-value">{{ products_count if products_count is defined else 'â€”' }}</div>
		<div class="stat-label">ğŸ“¦ Produits totaux</div>
	</div>
	<div class="stat-card">
		<div class="stat-value">{{ archers_count if archers_count is defined else 'â€”' }}</div>
		<div class="stat-label">ğŸ‘¥ Archers actifs</div>
	</div>
	<div class="stat-card">
		<div class="stat-value">{{ composites_count if composites_count is defined else 'â€”' }}</div>
		<div class="stat-label">ğŸ¯ Arcs disponibles</div>
	</div>
	<div class="stat-card">
		<div class="stat-value">{{ categories_count if categories_count is defined else 'â€”' }}</div>
		<div class="stat-label">ğŸ“ CatÃ©gories</div>
	</div>
</div>

<div class="grid">
	<div class="card">
		<h2>ğŸš€ Actions rapides</h2>
		<ul style="list-style:none;padding:0;margin:16px 0 0 0">
			{% if current_user.can_edit() %}
			<li style="margin-bottom:12px"><a href="{{ url_for('add_product') }}" style="font-weight:500">â• Ajouter un produit</a></li>
			<li style="margin-bottom:12px"><a href="{{ url_for('add_category') }}" style="font-weight:500">ğŸ“ CrÃ©er une catÃ©gorie</a></li>
			<li style="margin-bottom:12px"><a href="{{ url_for('add_composite') }}" style="font-weight:500">ğŸ¯ Enregistrer un arc</a></li>
			<li style="margin-bottom:12px"><a href="{{ url_for('add_archer') }}" style="font-weight:500">ğŸ‘¤ Ajouter un archer</a></li>
			<li style="margin-bottom:0"><a href="{{ url_for('assign') }}" style="font-weight:500">ğŸ”„ Nouvelle affectation</a></li>
			{% endif %}
		</ul>
	</div>
	
	<div class="card">
		<h2>ğŸ“‹ Navigation</h2>
		<p class="muted" style="margin-bottom:16px">AccÃ©dez aux diffÃ©rentes sections de gestion</p>
		<div class="action-group" style="flex-direction:column;align-items:stretch">
			<a href="{{ url_for('products') }}" class="btn btn-outline" style="justify-content:flex-start">ğŸ“¦ Voir les produits</a>
			<a href="{{ url_for('archers') }}" class="btn btn-outline" style="justify-content:flex-start">ğŸ‘¥ Liste des archers</a>
			<a href="{{ url_for('composites') }}" class="btn btn-outline" style="justify-content:flex-start">ğŸ¯ GÃ©rer les arcs</a>
			<a href="{{ url_for('assignments') }}" class="btn btn-outline" style="justify-content:flex-start">ğŸ”„ Affectations actives</a>
		</div>
	</div>

	<div class="card">
		<h2>ğŸ“Š Rapports</h2>
		<p class="muted" style="margin-bottom:16px">Exportez et consultez les donnÃ©es</p>
		<div class="action-group" style="flex-direction:column;align-items:stretch">
			<a href="/export_products" class="btn btn-outline" style="justify-content:flex-start">ğŸ“„ Export produits (PDF)</a>
			<a href="/export_archers" class="btn btn-outline" style="justify-content:flex-start">ğŸ“„ Export archers (PDF)</a>
		</div>
	</div>
</div>
{% endblock %}